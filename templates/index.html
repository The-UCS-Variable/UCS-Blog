{% extends "_base.html" %}
{% import "includes/macros.html" as macros %}

<!--head-->
{% block head -%}
  {{ super() }}
  <link rel="stylesheet" href="{{ get_url(path="styles/index.css") }}" />
  <script defer type="module" src="{{ get_url(path="scripts/index.js") }}"></script>
{% endblock head -%}


<!-- prettier-ignore -->
{% block content %}
  <header class="OneCard">
    <h1>Chanakya</h1>
    <div class="pline pline-center"></div>
    <p>--- Website Homepage ---</p>
  </header>

  <nav class="OneCard">
    <ul>
      {% set socialdata = load_data(path="src/social_links.json", format="json") %}
      {% for link in socialdata.data %}
        <li>
          <a class="social-link" href="{{ link.link }}" title="{{ link.title }}" target="_blank" rel="noreferrer">
            <svg viewbox="{{ link.viewBox }}"><path d="{{ link.svg }}"/></svg>
          </a>
        </li>
      {% endfor %}
    </ul>
  </nav>


  <div id="SettingsCard">
    <div class="settings-contain">
      <button id="The-Theme-Btn" class="TheButtons" title="Click to toggle between Dark/Light Themes">
        Toggle Theme
      </button>
    </div>
  </div>


  <main class="OneCard">
    <div class="about-nav">
      <div class="about-nav-btns">
        <button data-tempid="blog" class="abouttab">Blog</button>
        <button data-tempid="about" data-defopen=true class="abouttab">About</button>
        <button data-tempid="skill" class="abouttab">Skills</button>
        <button data-tempid="likes" class="abouttab">Interests</button>
      </div>
    </div>

    <div id="main-content"></div>
    {# Add Pinned Posts feature #}
    <div class="zero-display">
      <template id="templ-blog">
        <h2 class="tab-content-heading">Blogs / Journals</h2>
        <div class="recent-blogs">
          {% set allpages = [] %}
          {% set articles = get_section(path="blog/_index.md") %}
          {% for p in articles.subsections %}
            {% set subsection = get_section(path=p) %}
            {% set subpages = subsection.pages %}
            {% set_global allpages = allpages | concat(with=subpages) %}
          {% endfor %}
          {% set recentones = allpages | slice(end=5) %}
          {{ macros::post_list(posts=recentones) }}
        </div>
      </template>

      <template id="templ-about">
        <h2 class="tab-content-heading">About Me!!</h2>
        <p>Page under Construction</p>
      </template>

      <template id="templ-skill">
        <h2 class="tab-content-heading">Unlimited Skills</h2>
      </template>

      <template id="templ-likes">
        <h2 class="tab-content-heading">. . . got my Curiosity</h2>
      </template>
    </div>
  </main>


  <footer class="OneCard">
    <div class="main-of-footer">
      <div class="other-links">
        <h4>Other Links</h4>
        <ul>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/webcard">WebCard</a></li>
          <li><a href="/blog/who-am-i">About me!</a></li>
          <li><a href="https://github.com/U-C-S/u-c-s.github.io">Site Source</a></li>
          <!-- <li><a href="/noscript">noscript Page</a></li> -->
        </ul>
      </div>
      <div class="github-info">
        <h4>Recent Github</h4>
        <ul id="git-events"></ul>
      </div>
    </div>

    <div class="footer-of-footer">
      <p>Made with â™¥ and Zola by Chanakya</p>
    </div>
  </footer>
{% endblock content %}
